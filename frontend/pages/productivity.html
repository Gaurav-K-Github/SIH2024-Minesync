<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Productivity - MineSafe Pro</title>
  <link rel="manifest" href="../manifest.json">
  <meta name="theme-color" content="#fbbf24">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    body{display:grid;grid-template-columns:1fr;grid-template-rows:auto 1fr;min-height:100vh}.sidebar{grid-row:1/-1;background:var(--bg-secondary);border-right:1px solid var(--border-color);padding:1rem 0.5rem;display:flex;flex-direction:column;position:fixed;width:70px;height:100vh;overflow-y:auto;overflow-x:hidden;transition:width .3s ease,padding .3s ease;z-index:1000}.sidebar:hover{width:260px;padding:1.5rem}.sidebar-header{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.5rem;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid var(--border-color);overflow:hidden;transition:flex-direction .3s ease,gap .3s ease}.sidebar:hover .sidebar-header{flex-direction:row;gap:.75rem;justify-content:flex-start}.sidebar-header h3,.sidebar-header p{white-space:nowrap;opacity:0;width:0;height:0;overflow:hidden;transition:opacity .3s ease,width .3s ease,height .3s ease}.sidebar:hover .sidebar-header h3,.sidebar:hover .sidebar-header p{opacity:1;width:auto;height:auto}.sidebar-logo{width:40px;height:40px;background:linear-gradient(135deg,var(--accent-orange),var(--warning-yellow));border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.25rem;flex-shrink:0;transition:width .3s ease,height .3s ease,font-size .3s ease}.sidebar:hover .sidebar-logo{width:48px;height:48px;font-size:1.5rem}.nav-item{display:flex;align-items:center;justify-content:center;gap:0;padding:.875rem 0.5rem;border-radius:8px;color:var(--text-secondary);text-decoration:none;margin-bottom:.25rem;transition:all .2s;white-space:nowrap;overflow:hidden}.sidebar:hover .nav-item{justify-content:flex-start;gap:.75rem;padding:.875rem 1rem}.nav-item i{width:20px;text-align:center;flex-shrink:0;font-size:1.1rem}.nav-item span{opacity:0;width:0;overflow:hidden;transition:opacity .3s ease,width .3s ease}.sidebar:hover .nav-item span{opacity:1;width:auto}.nav-item:hover{background:var(--bg-hover);color:var(--text-primary)}.nav-item.active{background:rgba(249,115,22,.1);color:var(--accent-orange);font-weight:600}.nav-item i{width:20px;text-align:center}.topbar{background:var(--bg-card);border-bottom:1px solid var(--border-color);padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;margin-left:70px;transition:margin-left .3s ease}.search-bar{flex:1;max-width:400px;position:relative}.search-bar input{width:100%;padding:.625rem 1rem .625rem 2.5rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary)}.search-bar i{position:absolute;left:.875rem;top:50%;transform:translateY(-50%);color:var(--text-muted)}.topbar-actions{display:flex;align-items:center;gap:1rem}.icon-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;cursor:pointer;position:relative}.notification-badge{position:absolute;top:-4px;right:-4px;width:18px;height:18px;background:var(--danger-red);border-radius:50%;font-size:.625rem;display:flex;align-items:center;justify-content:center;border:2px solid var(--bg-card)}.user-menu{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.user-avatar{width:36px;height:36px;background:linear-gradient(135deg,var(--accent-orange),var(--warning-yellow));border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600}.main-content{padding:2rem;margin-left:70px;overflow-y:auto;transition:margin-left .3s ease}.chart-container{background:var(--bg-card);border-radius:12px;padding:1.5rem;border:1px solid var(--border-color);height:400px}.chart-container h3{margin-bottom:1.5rem;font-size:1.125rem;font-weight:600}.chart-container>div{height:300px;position:relative}.progress-bar{height:8px;background:var(--bg-secondary);border-radius:4px;overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent-orange),var(--warning-yellow));transition:width .3s}.mobile-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:var(--bg-card);border-top:1px solid var(--border-color);padding:.5rem;z-index:998}.mobile-nav-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:.5rem}.mobile-nav-item{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.5rem;border-radius:8px;color:var(--text-secondary);text-decoration:none;font-size:.75rem}.mobile-nav-item.active{color:var(--accent-orange);background:rgba(249,115,22,.1)}@media (max-width:1024px){body{grid-template-columns:1fr}.sidebar{transform:translateX(-100%)}.topbar,.main-content{margin-left:0}.mobile-nav{display:block}.main-content{padding-bottom:5rem}}@media (max-width:640px){.main-content{padding:1rem}}
  </style>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-header"><div class="sidebar-logo"><i class="fas fa-hard-hat"></i></div><div><h3 style="font-weight:700;font-size:1.125rem">MineSafe Pro</h3><p style="font-size:.75rem;color:var(--text-muted)">Safety First</p></div></div>
    <nav style="flex:1">
      <a href="dashboard.html" class="nav-item"><i class="fas fa-th-large"></i><span>Dashboard</span></a>
      <a href="safety.html" class="nav-item"><i class="fas fa-shield-alt"></i><span>Safety Monitoring</span></a>
      <a href="incidents.html" class="nav-item"><i class="fas fa-exclamation-circle"></i><span>Incidents</span></a>
      <a href="productivity.html" class="nav-item active"><i class="fas fa-chart-line"></i><span>Productivity</span></a>
      <a href="equipment.html" class="nav-item"><i class="fas fa-cogs"></i><span>Equipment</span></a>
      <a href="reports.html" class="nav-item"><i class="fas fa-file-alt"></i><span>Reports</span></a>
      <a href="profile.html" class="nav-item"><i class="fas fa-user-circle"></i><span>Profile</span></a>
    </nav>
    <div style="padding-top:1rem;border-top:1px solid var(--border-color)"><a href="#" onclick="logout()" class="nav-item"><i class="fas fa-sign-out-alt"></i><span>Logout</span></a></div>
  </div>
  <div class="topbar">
    <div class="search-bar"><i class="fas fa-search"></i><input type="text" placeholder="Search..."></div>
    <div class="topbar-actions">
      <div style="display:flex;align-items:center;gap:0.5rem">
        <div class="user-avatar">JD</div>
        <span style="font-size:.875rem;font-weight:600;color:var(--text-primary)">John Doe</span>
      </div>
    </div>
  </div>
  <div class="main-content">
    <div class="page-header" style="margin-bottom:2rem"><h1 style="font-size:2rem;font-weight:700;margin-bottom:.5rem"><i class="fas fa-chart-line"></i> Productivity Tracking</h1><p style="color:var(--text-secondary)">Monitor production targets and shift performance</p></div>
    <div class="grid-3" style="margin-bottom:2rem">
      <div class="card" style="padding:1.5rem"><h4 style="color:var(--text-secondary);font-size:.875rem;margin-bottom:1rem;font-weight:500">Daily Target</h4><div style="font-size:2.5rem;font-weight:700;margin-bottom:1rem">450 <span style="font-size:1rem;color:var(--text-secondary);font-weight:400">tons</span></div><div class="progress-bar" style="margin-bottom:.75rem"><div class="progress-fill" style="width:87%"></div></div><p style="font-size:.875rem"><span style="color:var(--safety-green);font-weight:600">392 tons</span> completed (87%)</p></div>
      <div class="card" style="padding:1.5rem"><h4 style="color:var(--text-secondary);font-size:.875rem;margin-bottom:1rem;font-weight:500">Weekly Target</h4><div style="font-size:2.5rem;font-weight:700;margin-bottom:1rem">3,150 <span style="font-size:1rem;color:var(--text-secondary);font-weight:400">tons</span></div><div class="progress-bar" style="margin-bottom:.75rem"><div class="progress-fill" style="width:72%"></div></div><p style="font-size:.875rem"><span style="color:var(--warning-yellow);font-weight:600">2,268 tons</span> completed (72%)</p></div>
      <div class="card" style="padding:1.5rem"><h4 style="color:var(--text-secondary);font-size:.875rem;margin-bottom:1rem;font-weight:500">Monthly Target</h4><div style="font-size:2.5rem;font-weight:700;margin-bottom:1rem">13,500 <span style="font-size:1rem;color:var(--text-secondary);font-weight:400">tons</span></div><div class="progress-bar" style="margin-bottom:.75rem"><div class="progress-fill" style="width:65%"></div></div><p style="font-size:.875rem"><span style="color:var(--warning-yellow);font-weight:600">8,775 tons</span> completed (65%)</p></div>
    </div>
    <div class="grid-2" style="margin-bottom:2rem">
      <div class="chart-container"><h3>Production by Shift</h3><div><canvas id="shiftChart"></canvas></div></div>
      <div class="chart-container"><h3>Weekly Production Trend</h3><div><canvas id="trendChart"></canvas></div></div>
    </div>
    <div class="card">
      <h3 style="font-size:1.25rem;font-weight:600;margin-bottom:1rem">Downtime Analysis</h3>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem">
        <div style="padding:1rem;background:var(--bg-secondary);border-radius:8px"><div style="font-size:.875rem;color:var(--text-secondary)">Equipment Maintenance</div><div style="font-size:1.5rem;font-weight:700;color:var(--warning-yellow)">4.2 hrs</div></div>
        <div style="padding:1rem;background:var(--bg-secondary);border-radius:8px"><div style="font-size:.875rem;color:var(--text-secondary)">Safety Checks</div><div style="font-size:1.5rem;font-weight:700;color:var(--safety-green)">2.1 hrs</div></div>
        <div style="padding:1rem;background:var(--bg-secondary);border-radius:8px"><div style="font-size:.875rem;color:var(--text-secondary)">Power Outage</div><div style="font-size:1.5rem;font-weight:700;color:var(--danger-red)">1.5 hrs</div></div>
        <div style="padding:1rem;background:var(--bg-secondary);border-radius:8px"><div style="font-size:.875rem;color:var(--text-secondary)">Worker Breaks</div><div style="font-size:1.5rem;font-weight:700;color:var(--safety-green)">3.0 hrs</div></div>
      </div>
    </div>
  </div>
  
  <!-- Mobile Navigation -->
  <div class="mobile-nav">
    <div class="mobile-nav-grid">
      <a href="dashboard.html" class="mobile-nav-item">
        <i class="fas fa-th-large"></i>
        <span>Dashboard</span>
      </a>
      <a href="safety.html" class="mobile-nav-item">
        <i class="fas fa-shield-alt"></i>
        <span>Safety</span>
      </a>
      <a href="incidents.html" class="mobile-nav-item">
        <i class="fas fa-file-medical"></i>
        <span>Report</span>
      </a>
      <a href="productivity.html" class="mobile-nav-item active">
        <i class="fas fa-chart-line"></i>
        <span>Production</span>
      </a>
      <a href="profile.html" class="mobile-nav-item">
        <i class="fas fa-user-circle"></i>
        <span>Profile</span>
      </a>
    </div>
  </div>
  
  <script src="../assets/js/app.js"></script>
  <script>
    const ctx1=document.getElementById('shiftChart').getContext('2d');new Chart(ctx1,{type:'doughnut',data:{labels:['Morning','Afternoon','Night'],datasets:[{data:[45,35,20],backgroundColor:['#f97316','#fbbf24','#10b981']}]},options:{responsive:true,maintainAspectRatio:false}});
    const ctx2=document.getElementById('trendChart').getContext('2d');new Chart(ctx2,{type:'line',data:{labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],datasets:[{label:'Production',data:[420,450,480,410,470,390,440],borderColor:'#f97316',backgroundColor:'rgba(249,115,22,0.1)',fill:true,tension:.4}]},options:{responsive:true,maintainAspectRatio:false,scales:{y:{beginAtZero:true}}}});
  </script>
</body>
</html>
